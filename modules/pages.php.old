<?php
/*
* Tiger Laundry: PHP Page Getter
*
* Design by Benjamin Russell (www.csh.rit.edu/~benrr101)
* Project supported by RIT Residence Halls Association (rha.rit.edu)
*
*/

/*
* Essentially, this file is like my old style pagelist.php files. Only this
* time we're working with functions to do it.
*/

$pagelist = array("default" => "home",
		  "home" => "pages/home.php",
		  "about" => "pages/about.php",
		  "bldg" => "pages/bldg.php",
		  "tester" => "pages/tester.php"
		 );

function get_page( $page, $pagelist, $locationRows ) {
	/*
	* This function will check for a page in the array pagelist. If the
	* page exists in the list, it is included, or else it dies and fails
	* with a nice and pretty "some error occurred".
	* Args -
	* $page		- str, the page, specified in the url
	* $page_list	- array, contains page => location
	*/

	// Check to see if page is set
	if(!isset($page)) {
		$page = $pagelist["default"];
	}

	// Check if the page is in the list
	if( array_key_exists( $page, $pagelist ) ) {
		// Include the file or exit with an error message
		$include = include($pagelist[$page]);
		if(!$include) {
			echo("<div class='errorbox'>\n\t\t\t<p class='error_header'>Page Request Error -</p>\n\t\t\t<p class='error_content'>The requested page failed to load. Please try again.</p>\n\t\t</div>");
			return false;
		}
		return true;
	} else {
		// The page doesn't exist in the list, so fail
		echo("<div class='errorbox'>\n\t\t\t<p class='error_header'>Page Request Error -</p>\n\t\t\t<p class='error_content'>The requested page does not exist. Please try again.<br />\n\t\t\t Please <a href='index.php?page={$pagelist['default']}'>click here</a> to return to the home page.</p>\n\t\t</div>");
		return false;
	}
}

?>